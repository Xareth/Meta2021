{"ast":null,"code":"import _slicedToArray from\"/Users/mikolajszadkowski/Library/Mobile Documents/com~apple~CloudDocs/AppDevelopment/motortest/Mnet 2020/Mnet2/frontend-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function _LoginForm(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),loginForm=_useState2[0],setLoginForm=_useState2[1];// Load default view for submodule\nuseEffect(function(){fetch(\"/_users\").then(function(response){return response.json().then(function(data){console.log(data.form[0].label);setLoginForm(data.form);});}).catch(function(e){console.log(\"Error occured: \",e);});},[]);function AfterFormSubmit(event){event.preventDefault();// Simple POST request with a JSON body using fetch\nconsole.log(event);var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:'React POST Request Example'})};fetch('/_login',requestOptions).then(function(response){return response.json();}).then(function(data){return console.log(data);});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:AfterFormSubmit,children:[console.log(loginForm),loginForm.length>0?loginForm.map(CreateInput):\"\"]})});}function CreateInput(props){return/*#__PURE__*/_jsx(Input,{label:props.label,type:props.type},props.label);}function Input(props){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:props.label}),/*#__PURE__*/_jsx(\"input\",{type:props.type})]});}export default _LoginForm;","map":{"version":3,"sources":["/Users/mikolajszadkowski/Library/Mobile Documents/com~apple~CloudDocs/AppDevelopment/motortest/Mnet 2020/Mnet2/frontend-react/src/components/users/_LoginForm.js"],"names":["React","useEffect","useState","_LoginForm","props","loginForm","setLoginForm","fetch","then","response","json","data","console","log","form","label","catch","e","AfterFormSubmit","event","preventDefault","requestOptions","method","headers","body","JSON","stringify","title","length","map","CreateInput","type","Input"],"mappings":"gNAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,C,wFAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,eAEaF,QAAQ,CAAC,EAAD,CAFrB,wCAEfG,SAFe,eAEJC,YAFI,eAIvB;AACAL,SAAS,CAAE,UAAM,CACbM,KAAK,CAAC,SAAD,CAAL,CAAiBC,IAAjB,CAAsB,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,SAAAG,IAAI,CAAI,CAC3DC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAL,CAAU,CAAV,EAAaC,KAAzB,EACAT,YAAY,CAACK,IAAI,CAACG,IAAN,CAAZ,CACH,CAHiC,CAAJ,EAA9B,EAGIE,KAHJ,CAGU,SAACC,CAAD,CAAO,CAAEL,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA8BI,CAA9B,EAAkC,CAHrD,EAIH,CALQ,CAKN,EALM,CAAT,CAQA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC5BA,KAAK,CAACC,cAAN,GACA;AACAR,OAAO,CAACC,GAAR,CAAYM,KAAZ,EACA,GAAME,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFU,CAGnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEC,KAAK,CAAE,4BAAT,CAAf,CAHa,CAAvB,CAKApB,KAAK,CAAC,SAAD,CAAYc,cAAZ,CAAL,CACKb,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAJ,EAFd,EAIH,CAED,mBAAQ,kCACJ,cAAM,QAAQ,CAAEO,eAAhB,WACKN,OAAO,CAACC,GAAR,CAAYR,SAAZ,CADL,CAEKA,SAAS,CAACuB,MAAV,CAAmB,CAAnB,CAAuBvB,SAAS,CAACwB,GAAV,CAAcC,WAAd,CAAvB,CAAoD,EAFzD,GADI,EAAR,CAMH,CAED,QAASA,CAAAA,WAAT,CAAqB1B,KAArB,CAA4B,CACxB,mBAAO,KAAC,KAAD,EAEH,KAAK,CAAEA,KAAK,CAACW,KAFV,CAGH,IAAI,CAAEX,KAAK,CAAC2B,IAHT,EACE3B,KAAK,CAACW,KADR,CAAP,CAKH,CAED,QAASiB,CAAAA,KAAT,CAAe5B,KAAf,CAAsB,CAClB,mBAAO,oCACH,uBAAQA,KAAK,CAACW,KAAd,EADG,cAEH,cAAO,IAAI,CAAEX,KAAK,CAAC2B,IAAnB,EAFG,GAAP,CAIH,CAGD,cAAe5B,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nfunction _LoginForm(props) {\n\n    const [ loginForm, setLoginForm ] = useState([]);\n\n    // Load default view for submodule\n    useEffect( () => {\n        fetch(\"/_users\").then(response => response.json().then(data => {\n            console.log(data.form[0].label);\n            setLoginForm(data.form);\n        })).catch((e) => { console.log(\"Error occured: \",e) })\n    }, [])\n\n\n    function AfterFormSubmit(event) {\n        event.preventDefault()\n        // Simple POST request with a JSON body using fetch\n        console.log(event);\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ title: 'React POST Request Example' })\n        };\n        fetch('/_login', requestOptions)\n            .then(response => response.json())\n            .then(data => console.log(data));\n\n    }\n\n    return (<div>\n        <form onSubmit={AfterFormSubmit}>\n            {console.log(loginForm)}\n            {loginForm.length > 0 ? loginForm.map(CreateInput) : \"\"}\n        </form>\n    </div>)\n}\n\nfunction CreateInput(props) {\n    return <Input\n        key={props.label}\n        label={props.label}\n        type={props.type}\n    />\n}\n\nfunction Input(props) {\n    return <div>\n        <label>{props.label}</label>\n        <input type={props.type} />\n    </div>\n}\n\n\nexport default _LoginForm;"]},"metadata":{},"sourceType":"module"}